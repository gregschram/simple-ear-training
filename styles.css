/* =====================================================
   EAR-PRACTICE – sage / terracotta design (May 2025)
   ===================================================== */

   :root{
    --green-dk:#679C6C;   /* "Green" header / hover */
    --green-md:#B8E0C0;   /* "light sage" buttons / borders */
    --green-lt:#F2FCF5;   /* "lightest green" card tint        */
    --tc-dk  :#BA594A;    /* "terra cotta" accent           */
    --tc-lt  :#FFCEC4;    /* "peach" accent           */
  
    --header-bg:var(--green-dk);
    --bg:#F7F6F3;  --card:#fff; --text:#24322E;
    --shadow:0 1px 3px rgba(0,0,0,.08);
  }
  
  /* ---------- reset ---------- */
  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  body{font:16px/1.4 "Inter",Arial,sans-serif;color:var(--text);background:var(--bg)}
  
  /* ---------- header ---------- */
  .site-header{height:60px;background:var(--header-bg);position:fixed;inset:0 0 auto 0;z-index:1000;display:flex;align-items:center}
  .header-inner{width:100%;max-width:1200px;margin:0 auto;padding:0 24px;display:flex;justify-content:space-between;align-items:center}
  .logo-img{height:26px}
  .site-header nav a{color:#fff;text-decoration:none;margin-left:28px;font-weight:600}
  .donate-btn{background:#fff;color:#BA594A;padding:7px 16px;border-radius:6px;transition:background .18s ease;font-weight:600;}
  .donate-btn:hover{background:var(--tc-lt);color:#BA594A;}
  .tc-text {color: #BA594A !important;}
  
  /* ---------- layout ---------- */
  .page-wrap{min-height:calc(100vh - 60px);display:flex;justify-content:center;align-items:center;padding:40px 20px}
  .container{width:620px;max-width:90vw;background:var(--card);border-radius:12px;padding:26px 30px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:14px}
  .container.exercise{padding:24px 40px;gap:20px;border:1px solid var(--green-md);box-shadow:0 6px 20px rgba(0,0,0,.06)}
  .container:has(.container.exercise){border:none;box-shadow:none;padding:0;background:transparent}
  
  h1,h2{color:var(--green-dk);font-weight:700;text-align:center}
  h1{font-size:1.9rem}h2{font-size:1.5rem}h3{font-size:1.1rem;font-weight:500;text-align:center}
  .subtitle {
    text-align: center;
    color: var(--text);
    font-size: 1.1rem;
    margin-bottom: 24px;
    font-weight: 500;
  }
  
  .instruction-card{background:var(--green-lt);border-left:6px solid var(--green-md);padding:12px 18px;border-radius:6px}
  
  /* ---------- menu buttons ---------- */
  .exercise-choices{display:flex;flex-direction:column;gap:14px;margin-top:18px}
  .btn{cursor:pointer;border:none;border-radius:6px;background:var(--green-md);color:var(--text);padding:14px 24px;font-size:1.05rem;width:100%;transition:.2s;box-shadow:var(--shadow)}
  .btn:hover{background:var(--green-dk);color:#fff}
  .btn.sfx{background:var(--tc-dk);color:#fff}
  .btn.sfx:hover{background:var(--tc-lt);color:var(--text)}
  
  /* ---------- back arrow link ---------- */
  .back-link{
    font-size:.9rem;font-weight:500;
    color:var(--tc-dk);text-decoration:none;
    display:inline-flex;align-items:center;gap:4px;
    transition:color .2s;
  }
  .back-link::before{content:"←";font-weight:700}
  .back-link:hover{color:var(--tc-lt)}

  
  /* ---------- top-of-exercise controls ---------- */
  .header-controls{display:flex;justify-content:space-between;margin-bottom:4px}
  #round-tracker{font-size:.85rem;font-weight:500;opacity:.75}
  
  /* ---------- primary action ---------- */
  .play-sound{
    background:var(--tc-dk);color:#fff;
    padding:18px 60px;font-size:1.3rem;border-radius:50px;border:none;cursor:pointer;
    transition:.25s;box-shadow:var(--shadow)
  }
  .play-sound:hover{background:var(--tc-lt);color:var(--text);transform:scale(1.03)}
  .audio-controls{display:flex;align-items:center;gap:18px;margin-bottom:10px}
  .audio-controls .chk-wrapper{flex-shrink:0}


  
  /* ---------- choice grid ---------- */
  .choice-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;width:100%}
  .choice{background:#fff;color:var(--green-dk);border:2px solid var(--green-md);border-radius:8px;padding:14px 10px;font-weight:600;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:.15s;box-shadow:var(--shadow)}
  .choice:hover{background:var(--green-lt);border-color:var(--green-dk)}
  .choice.correct{background:var(--green-dk);color:#fff;border-color:var(--green-dk)}
  .choice.incorrect{background:var(--tc-dk);color:#fff;border-color:var(--tc-dk)}
  
  /* ---------- next btn ---------- */
  #next-button {
    margin-top: 15px;
    margin-left: auto;
    margin-right: auto;
    padding: 8px 16px;
    font-size: .9rem;
    font-weight: 700;
    border: none;
    background: var(--tc-dk);
    color: white;
    border-radius: 6px;
    visibility: hidden;
    transition: .25s;
    width: auto;
    display: inline-block;
  }
  
  #next-button.visible {
    visibility: visible;
  }
  
  #next-button:hover {
    background: var(--tc-lt);
    color: var(--tc-dk);
  }
  
  #feedback + #next-button{margin-top:10px}
  
  #feedback{margin-top:18px;text-align:center;font-weight:600}

  /* ---------- Style for the small play buttons in Written modules ---------- */
  .audio-choice-pair .play-audio-button {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--tc-dk);
    color: #fff;
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: .25s;
    padding: 0;
  }

  .audio-choice-pair .play-audio-button .play-icon {
    width: 20px;
    height: 20px;
  }

  .audio-choice-pair .play-audio-button:hover {
    background: var(--tc-lt);
  }

  /* Reserve space for feedback and next button */
  .container.exercise {
    position: relative;
    padding-bottom: 80px; /* Reserve space for feedback and next button */
  }

  #feedback {
    position: absolute;
    bottom: 50px;
    left: 0;
    right: 0;
    min-height: 24px;
    text-align: center;
    font-weight: 600;
  }

  #next-button{
    margin-top:15px;  /* Increase from 6px */
    padding:8px 16px;
    font-size:.9rem;
    font-weight:700;
    border:2px solid var(--tc-dk);
    background:none;
    color:var(--tc-dk);
    border-radius:6px;
    visibility:hidden;
    transition:.25s
  }
  
  /* ---------- sfx image grid ---------- */
  .image-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:14px;width:100%;max-width:520px;margin:0 auto}
  .image-choice{aspect-ratio:1;background:#F9F9F9;border:2px solid transparent;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:10%;transition:.2s;box-shadow:var(--shadow)}
  .image-choice img{width:100%;height:100%;object-fit:contain;filter:grayscale(1)}
  .image-choice:hover{border-color:var(--green-md);transform:translateY(-2px)}
  .image-choice.selected{border-color:var(--green-dk)}
  .image-choice.correct{background:var(--green-dk) !important;border-color:var(--green-dk)}
  .image-choice.incorrect{background:var(--tc-dk) !important;border-color:var(--tc-dk)}
  .image-choice.correct img,
  .image-choice.incorrect img{filter:invert(1)}

  /* SFX feedback and next button */
  #sfx-container {
    position: relative;
    min-height: 550px; /* Adjust based on your content */
  }
  #sfx-container #feedback,
  #sfx-container #next-button {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
  #sfx-container #feedback {
    bottom: 45px;
  }
  #sfx-container #next-button {
    bottom: 10px;
  }

  /* ---------- modal ---------- */
  .modal{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:rgba(0,0,0,.45);z-index:1200}
  .modal.show{display:flex}
  .modal-content{background:var(--card);padding:20px 30px;border-radius:10px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;max-width:90vw}
  .modal-content h2{margin-top:4px}
  .close-button{align-self:flex-end;width:26px;height:26px;border-radius:50%;border:1px solid var(--text);font-size:.9rem;line-height:24px;text-align:center;padding:0;cursor:pointer;background:none}
  .word-options{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}
  .sub-option{background:var(--green-md);color:var(--text);padding:12px 20px;border:none;border-radius:6px}
  .sub-option:hover{background:var(--green-dk);color:#fff}
  
  /* ---------- mobile ---------- */
  @media(max-width:480px){
    html{font-size:14px}
    .container{width:95vw}
    .choice-grid{grid-template-columns:1fr}
  }
  
  /* ----------  mint tick checkbox ---------- */
.chk-wrapper{display:inline-block;vertical-align:middle}
.chk-wrapper .cbx{user-select:none;cursor:pointer;padding:4px 6px;border-radius:6px;display:inline-flex;align-items:center;gap:6px;transition:background .2s}
.chk-wrapper .cbx:hover{background:rgba(104,156,108,.08)}
.chk-wrapper .cbx span:first-child{position:relative;width:18px;height:18px;border-radius:4px;border:1px solid var(--green-md);transition:.2s}
.chk-wrapper .cbx span:first-child svg{position:absolute;top:3px;left:2px;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;fill:none;stroke-dasharray:16;stroke-dashoffset:16;transition:.3s .1s}
.chk-wrapper input{position:absolute;visibility:hidden}
.chk-wrapper input:checked + .cbx span:first-child{background:var(--green-dk);border-color:var(--green-dk);animation:chk-wave .4s}
.chk-wrapper input:checked + .cbx span:first-child svg{stroke-dashoffset:0}
@keyframes chk-wave{50%{transform:scale(.9)}}

/* Big word for written prompt */
.written-prompt{
  font-size:2rem;font-weight:700;text-align:center;color:var(--tc-dk);margin:16px 0;
}

/* audio payr layout for written word */
.audio-choice-pair{display:flex;gap:12px;align-items:center}
.play-audio-button{background:var(--tc-dk);color:#fff;width:40px;height:40px;border:none;border-radius:50px;font-size:1.1rem;cursor:pointer;transition:.25s}
.play-audio-button:hover{background:var(--tc-lt);color:var(--text)}


/* Consistent layout to prevent jumping */
#feedback {
  min-height: 24px;
  display: block;
}

.container.exercise {
  min-height: 500px; /* Adjust this value based on your content */
  display: flex;
  flex-direction: column;
}

.choice {
  min-height: 50px; /* Adjust this value based on your content */
}

.choice-grid, .image-grid, .audio-choices {
  flex: 1;
  margin-bottom: 20px;
}

.page-wrap {
  padding-top: 80px; /* Increased top padding to account for fixed header */
}

/* End game styling */
.score-display {
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--green-dk);
  text-align: center;
  margin: 30px 0;
}

.end-buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
}

.end-btn {
  background: var(--tc-dk);
  color: white;
  padding: 12px 0;
  width: 140px;
  border: none;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
  transition: .2s;
}

.end-btn:hover {
  background: var(--tc-lt);
}